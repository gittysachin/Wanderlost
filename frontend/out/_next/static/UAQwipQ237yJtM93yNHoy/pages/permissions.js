(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1kfB":function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/permissions",function(){return t("xo/1")}])},"2FTe":function(n,e,t){"use strict";var r=t("vOnD").c.button.withConfig({displayName:"SickButton",componentId:"l04z44-0"})(["background:red;color:white;font-weight:500;border:0;border-radius:0;text-transform:uppercase;font-size:2rem;padding:0.8rem 1.5rem;transform:skew(-2deg);display:inline-block;transition:all 0.5s;&[disabled]{opacity:0.5;}"]);e.a=r},"5c+8":function(n,e,t){"use strict";t.d(e,"a",(function(){return s}));var r=t("q1tI"),a=t.n(r),i=t("ttZb"),o=t("km3s"),u=t("VliS"),l=a.a.createElement;function s(n){var e=Object(i.c)(u.a),t=e.loading,r=e.error,a=e.data;return t?l("p",null,"Loading..."):r?l("p",null,"Error: ",r.message):a.me?n.children:l("div",{className:""},l("p",null,"Please Sign In before continuing"),l(o.a,null))}},km3s:function(n,e,t){"use strict";t.d(e,"a",(function(){return v}));var r=t("ln6h"),a=t.n(r),i=t("doui"),o=t("rt45"),u=t("q1tI"),l=t.n(u),s=t("ttZb"),c=t("LIIV"),d=t("mzXK"),p=t("VUBQ"),m=t("VliS"),f=l.a.createElement;function b(){var n=Object(o.a)(["\n  mutation SIGNIN_MUTATION($email: String!, $password: String!) {\n    signin(email: $email, password: $password) {\n      id\n      email\n      name\n    }\n  }\n"]);return b=function(){return n},n}var h=Object(c.b)(b());function v(){var n=Object(u.useState)(""),e=n[0],t=n[1],r=Object(u.useState)(""),o=r[0],l=r[1],c=Object(s.b)(h,{refetchQueries:[{query:m.a}],variables:{email:e,password:o}}),b=Object(i.a)(c,2),v=b[0],g=b[1],w=g.loading,I=g.error;return f(d.a,{method:"post",onSubmit:function(n){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,a.a.awrap(v());case 3:t(""),l("");case 5:case"end":return e.stop()}}))}},f("fieldset",{disabled:w,"aria-busy":w},f("h2",null,"Sign into your Account"),f(p.a,{error:I}),f("label",{htmlFor:"email"},"Email",f("input",{type:"email",name:"email",placeholder:"email",value:e,onChange:function(n){return t(n.target.value)}})),f("label",{htmlFor:"password"},"Password",f("input",{type:"password",name:"password",placeholder:"password",value:o,onChange:function(n){return l(n.target.value)}})),f("button",{type:"submit"},"Sign In!")))}},"xo/1":function(n,e,t){"use strict";t.r(e);var r=t("q1tI"),a=t.n(r),i=t("5c+8"),o=t("p0XB"),u=t.n(o);var l=t("d04V"),s=t.n(l),c=t("yLu3"),d=t.n(c);function p(n){return function(n){if(u()(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}(n)||function(n){if(d()(Object(n))||"[object Arguments]"===Object.prototype.toString.call(n))return s()(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var m=t("ln6h"),f=t.n(m),b=t("rt45"),h=t("ttZb"),v=t("LIIV"),g=t("VUBQ"),w=t("vOnD").c.table.withConfig({displayName:"Table",componentId:"sc-1jvbtk5-0"})(["border-spacing:0;width:100%;border:1px solid ",";thead{font-size:10px;}td,th{border-bottom:1px solid ",";border-right:1px solid ",";padding:5px;position:relative;&:last-child{border-right:none;width:150px;button{width:100%;}}label{padding:10px 5px;display:block;}}tr{&:hover{background:",";}}"],(function(n){return n.theme.offWhite}),(function(n){return n.theme.offWhite}),(function(n){return n.theme.offWhite}),(function(n){return n.theme.offWhite})),I=t("2FTe"),y=a.a.createElement;function E(){var n=Object(b.a)(["\n  query {\n    users {\n      id\n      name\n      email\n      permissions\n    }\n  }\n"]);return E=function(){return n},n}function O(){var n=Object(b.a)(["\n  mutation updatePermissions($permissions: [Permission], $userId: ID!) {\n    updatePermissions(permissions: $permissions, userId: $userId) {\n      id\n      permissions\n      name\n      email\n    }\n  }\n"]);return O=function(){return n},n}var j=["ADMIN","USER","ITEMCREATE","ITEMUPDATE","ITEMDELETE","PERMISSIONUPDATE"],k=Object(v.b)(O()),S=Object(v.b)(E());function x(){var n=Object(h.c)(S),e=n.loading,t=n.error,r=n.data;return e?y("p",null,"Loading..."):y("div",null,y(g.a,{error:t}),y("div",null,y("h2",null,"Manage Users"),y(w,null,y("thead",null,y("tr",null,y("th",null,"Name"),y("th",null,"Email"),j.map((function(n){return y("th",{key:n},n)})),y("th",null,y("span",{role:"img","aria-label":"finger-pointing-down"},"\ud83d\udc47")))),y("tbody",null,r.users.map((function(n){return y(T,{user:n,key:n.id})}))))))}function T(n){var e=n.user,t=Object(r.useState)(e.permissions),i=t[0],o=t[1],u=Object(r.useState)(!1),l=u[0],s=u[1],c=Object(r.useState)(null),d=c[0],m=c[1],b=Object(h.b)(k,{variables:{permissions:i,userId:e.id}});function v(n){var e=n.target,t=p(i);e.checked?t.push(e.value):t=t.filter((function(n){return n!==e.value})),s(!0),o(t)}return Object(r.useEffect)((function(){f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.awrap(b());case 3:s(!1),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),m(n.t0);case 9:case"end":return n.stop()}}),null,null,[[0,6]])}),[i]),y(a.a.Fragment,null,d&&y("tr",null,y("td",{colSpan:"8"},y(g.a,{error:d}))),y("tr",null,y("td",null,e.name),y("td",null,e.email),j.map((function(n){return y("td",{key:n},y("label",{htmlFor:"".concat(e.id,"-permission-").concat(n)},y("input",{id:"".concat(e.id,"-permission-").concat(n),type:"checkbox",checked:i.includes(n),value:n,onChange:v})))})),y("td",null,y(I.a,{type:"button",disabled:l,onClick:v},"Updat",l?"ing":"e"))))}var N=a.a.createElement;e.default=function(){return N("div",null,N(i.a,null,N(x,null)))}}},[["1kfB",1,0]]]);